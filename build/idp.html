<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="pms">

<head>
  <meta charset="utf-8">
  <title>PMS</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js"></script>
  <script src="assets/js/app.js" charset="utf-8"></script>
  <link rel="stylesheet" href="assets/css/grid.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.css">
  <link rel="stylesheet" href="assets/css/bootstrap-grid.min.css">
  <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,500" rel="stylesheet"> </head>

<body ng-controller="mainCtrl">
  <div class="main_grid">
    <!-- Sidebar grid -->
    <div class="side_bar"> <img class="logo" src="assets/images/img-logo.png" />
      <div class="icon-chart side_bar_icon"></div>
      <div class="icon-people side_bar_icon"></div>
    </div>
    <!-- Main content grid -->
    <div class="main_cont">
      <div class="header_bar"> <img src="assets/images/img-avatar.png" alt="">
        <div class="header_bar_name"> {{users[0].full_name}} </div>
        <div class="header_bar_email"> {{users[0].email}} </div>
      </div>
      <div class="content">
        <div class="row" style="background:white;margin-left:0">
          <!-- Navbar -->
          <div class="col-7">
            <ul class="nav_bar">
              <li><a href="http://127.0.0.1:3000/case-1.html" style="text-decoration:none;color:var(--greyish-brown)">evaluation</a></li>
              <li class="active">development plan</li>
            </ul>
          </div>
          <div class="col-5">
            <div class="nav_bar_pos_label">Position</div> <select class="nav_bar_pos" name="">
                <option value="">Programmer</option>
              </select> </div>
        </div>
        <!-- Data table -->
        <div class="row">
          <table class="idp_table" cellspacing=0 cellpadding=32>
            <thead>
              <tr>
                <th>Competency</th>
                <th>Objective</th>
                <th>Priority</th>
                <th>ETA</th>
                <th>Progress</th>
                <th style="width:10%">Status</th>
                <th>Comment</th>
              </tr>
            </thead>
            <tbody>
              <tr class="table_row_border" ng-repeat="idp in idps">
                <td><a ng-href="{{idp.ilearn == true ? 'https://ilearn.gameloft.org' : ''}}" ng-class="{not_a : idp.ilearn != true}">{{idp.competency}}</a></td>
                <td>{{idp.objective}}</td>
                <td>{{idp.priority}}</td>
                <td>{{idp.eta}}</td>
                <td>{{idp.progress}}%</td>
                <td ng-click="open_edit_modal($index)" ng-class="{success : idp.status == 'Completed',idp_status : idp.status != 'Completed'}">{{idp.status}}</td>
                <td>{{idp.comment}}</td>
              </tr>
              <tr>
                <td><button type="button" name="button" class="btn out_line" id="add_idp">add</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal -->
  <!-- The Modal -->
  <div id="modal_add" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">Add new competency</div>
      <div class="modal-subheader">COMPETENCY</div> <select class="modal-select" name="" ng-model="new_competency">
          <option ng-repeat="new_idp in idps" value="{{new_idp.competency}}">{{new_idp.competency}}</option>
        </select>
      <div class="modal-subheader">Objective</div> <input class="modal-select" value="" ng-model="new_objective">
      <div class="modal-subheader">Priority</div> <select class="modal-select" name="" ng-model="new_priority">
        <option value="High">High</option>
        <option value="Normal" selected>Normal</option>
        <option value="Low">Low</option>
      </select>
      <div class="modal-subheader">ETA</div> <input class="modal-select" type="date" name="" value="" ng-model="new_eta"> <button type="button" name="button" class="btn btn-plain" id="idp_cancel">cancel</button><button type="button" name="button" class="btn btn-primary" ng-click='add_idp()'>ADD</button></div>
  </div>
  <div id="modal_edit" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-subheader">eta</div> <input type="date" name="" value="{{edit_idp.eta}}" class="modal-select">
      <div class="modal-subheader">progress (%)</div> <input type="number" name="" ng-model="edit_idp.progress" class="modal-select">
      <div class="modal-subheader">status</div> <input class="modal-select" ng-model="edit_idp.status" disabled>
      <!-- <select class="modal-select" ng-model="edit_idp.status">
        <option value="Not Started">Not Started</option>
        <option value="In Progress">In Progress</option>
        <option value="Completed">Completed</option>
      </select> -->
      <div class="modal-subheader">Comment</div> <textarea class="modal-select" rows="8" style="height:auto" ng-model="edit_idp.comment">{{edit_idp.comment}}</textarea> <button type="button" name="button" class="btn btn-plain" id="edit_cancel">cancel</button> <button type="button"
        name="button" class="btn btn-primary" ng-click="save_idp(idp_edit_index)">SAVE</button><button type="button" name="button" class="btn btn-danger" id="edit_cancel" ng-click="delete_idp()">delete</button></div>
  </div>
  <script type="text/javascript">
    // modal
    // Get the modal
    var modal = document.getElementById('modal_add');
    // Get the button that opens the modal
    var btn = document.getElementById("add_idp");
    // Get close button
    var btn_cancel = document.getElementById("idp_cancel");
    // When the user clicks on the button, open the modal
    btn.onclick = function() {
      modal.style.display = "block";
    }
    btn_cancel.onclick = function() {
      modal.style.display = "none";
    }
    // Edit modal
    var edit_modal = document.getElementById('modal_edit');
    var btn_edit_cancel = document.getElementById("edit_cancel");
    btn_edit_cancel.onclick = function() {
      edit_modal.style.display = "none";
    }
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
      if (event.target == edit_modal) {
        edit_modal.style.display = "none";
      }
    }
  </script>
</body>

</html>
