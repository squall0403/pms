<div ng-controller="mainCtrl">
  <div class="main_grid">
    <!-- Sidebar grid -->
    <div class="side_bar"> <img class="logo" src="assets/images/img-logo.png" />
      <div class="icon-chart side_bar_icon"></div>
      <div class="icon-people side_bar_icon" ng-click="show_team()"></div>
    </div>
    <!-- Main content grid -->
    <div class="main_cont">
      <div class="header_bar">
        <div class="header_bar_data"> {{overall_achievement}}% </div>
        <div class="header_bar_legend"> overall achievement </div>
        <div class="header_bar_data">{{overall_idp}}% </div>
        <div class="header_bar_legend"> overall IDP </div>
      </div>
      <div class="content">
        <div class="row" style="background:white;margin-left:0">
          <!-- Navbar -->
          <div class="col-7">
            <ul class="nav_bar">
              <li class="active">evaluation</li>
              <li><a href="idp.html" style="text-decoration:none;color:var(--greyish-brown)">development plan</a></li>
            </ul>
          </div>
          <div class="col-5">
            <div class="nav_bar_pos_label">Position</div> <select class="nav_bar_pos" name="">
                <option value="">Programmer</option>
              </select> </div>
        </div>
        <!-- Data table -->
        <div class="row">
          <div style="overflow-x:auto;">
            <table class="idp_table" cellspacing=0 cellpadding=32>
              <thead>
                <tr>
                  <th>Evaluatee</th>
                  <th>Studio</th>
                  <th>Department</th>
                  <th>Position</th>
                  <th>Evaluator 1</th>
                  <th>Evaluator 2</th>
                  <th>Period</th>
                  <th style="width:10%">Status</th>
                  <th>Achievement</th>
                  <th>IDP</th>
                  <th>Talent</th>
                </tr>
              </thead>
              <tbody>
                <tr class="table_row_border" ng-repeat="user in users">
                  <td><img src="assets/images/img-avatar.png" alt=""><a href="case-2.html">{{user.full_name}}</a></td>
                  <td>{{user.studio}}</td>
                  <td>{{user.department}}</td>
                  <td>{{user.position}}</td>
                  <td>{{user.evaluator1}}</td>
                  <td>{{user.evaluator2}}</td>
                  <td>{{user.period}}</td>
                  <td><i>{{user.status}}</i></td>
                  <td class="idp_status">{{user.achievement}}%</td>
                  <td>{{user.idp}}%</td>
                  <td class="idp_status">{{user.talent}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <!-- Sidebar -->
      <div class="team_bar" id="team_bar">
        <div class="team_bar_header">
          <div class="icon-people"> </div>
          <div class="team_bar_text"> team management </div>
        </div>
        <div class="all_team"><a href="team_management.html">All</a> </div>
        <ul ng-repeat="user in users">
          <li><a href="case-2.html"><img src="assets/images/img-avatar.png" alt="">{{user.full_name}}</a></li>
        </ul>
      </div>
      <!-- Sidebar -->
    </div>
  </div>
  <!-- Modal -->
  <!-- The Modal -->
  <div id="modal_add" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">Add new competency</div>
      <div class="modal-subheader">COMPETENCY</div> <select class="modal-select" name="" ng-model="new_competency">
          <option ng-repeat="new_idp in idps" value="{{new_idp.competency}}">{{new_idp.competency}}</option>
        </select>
      <div class="modal-subheader">Objective</div> <input class="modal-select" value="" ng-model="new_objective">
      <div class="modal-subheader">Priority</div> <select class="modal-select" name="" ng-model="new_priority">
        <option value="High">High</option>
        <option value="Normal" selected>Normal</option>
        <option value="Low">Low</option>
      </select>
      <div class="modal-subheader">ETA</div> <input class="modal-select" type="date" name="" value="" ng-model="new_eta"> <button type="button" name="button" class="btn btn-plain" id="idp_cancel">cancel</button><button type="button" name="button" class="btn btn-primary" ng-click='add_idp()'>ADD</button></div>
  </div>
  <div id="modal_edit" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-subheader">eta</div> <input type="date" name="" value="{{edit_idp.eta}}" class="modal-select">
      <div class="modal-subheader">progress (%)</div> <input type="number" name="" ng-model="edit_idp.progress" class="modal-select">
      <div class="modal-subheader">status</div> <input class="modal-select" ng-model="edit_idp.status" disabled>
      <!-- <select class="modal-select" ng-model="edit_idp.status">
        <option value="Not Started">Not Started</option>
        <option value="In Progress">In Progress</option>
        <option value="Completed">Completed</option>
      </select> -->
      <div class="modal-subheader">Comment</div> <textarea class="modal-select" rows="8" style="height:auto" ng-model="edit_idp.comment">{{edit_idp.comment}}</textarea> <button type="button" name="button" class="btn btn-plain" id="edit_cancel">cancel</button> <button type="button"
        name="button" class="btn btn-primary" ng-click="save_idp(idp_edit_index)">SAVE</button><button type="button" name="button" class="btn btn-danger" id="edit_cancel" ng-click="delete_idp()">delete</button></div>
  </div>
  <script type="text/javascript">
    // modal
    // Get the modal
    var modal = document.getElementById('modal_add');
    // Get the button that opens the modal
    var btn = document.getElementById("add_idp");
    // Get close button
    var btn_cancel = document.getElementById("idp_cancel");
    // When the user clicks on the button, open the modal
    btn.onclick = function() {
      modal.style.display = "block";
    }
    btn_cancel.onclick = function() {
      modal.style.display = "none";
    }
    // Edit modal
    var edit_modal = document.getElementById('modal_edit');
    var btn_edit_cancel = document.getElementById("edit_cancel");
    btn_edit_cancel.onclick = function() {
      edit_modal.style.display = "none";
    }
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
      if (event.target == edit_modal) {
        edit_modal.style.display = "none";
      }
    }
  </script>
</div>
